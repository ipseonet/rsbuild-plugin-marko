"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const path_1 = tslib_1.__importDefault(require("path"));
const crypto_1 = require("crypto");
const CWD = process.cwd();
exports.default = (filename) => {
    const lastSepIndex = filename.lastIndexOf(path_1.default.sep);
    let name = filename.slice(lastSepIndex + 1, filename.indexOf(".", lastSepIndex));
    if (name === "index" || name === "template") {
        name = filename.slice(filename.lastIndexOf(path_1.default.sep, lastSepIndex - 1) + 1, lastSepIndex);
    }
    return `${name}_${(0, crypto_1.createHash)("MD5")
        .update(path_1.default.relative(CWD, filename))
        .digest("base64")
        .replace(/[/+]/g, "-")
        .slice(0, 4)}`;
};
//# sourceMappingURL=module-name.js.map