"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CopyRspackPlugin = void 0;
const binding_1 = require("@rspack/binding");
const base_1 = require("./base");
exports.CopyRspackPlugin = (0, base_1.create)(binding_1.BuiltinPluginName.CopyRspackPlugin, (copy) => {
    const ret = {
        patterns: []
    };
    ret.patterns = (copy.patterns || []).map(pattern => {
        if (typeof pattern === "string") {
            pattern = { from: pattern };
        }
        pattern.force ??= false;
        pattern.noErrorOnMissing ??= false;
        pattern.priority ??= 0;
        pattern.globOptions ??= {};
        return pattern;
    });
    return ret;
});
