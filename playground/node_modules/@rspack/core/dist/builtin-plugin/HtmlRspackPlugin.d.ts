import { BuiltinPluginName, type JsAfterEmitData, type JsAfterTemplateExecutionData, type JsAlterAssetTagGroupsData, type JsAlterAssetTagsData, type JsBeforeAssetTagGenerationData, type JsBeforeEmitData, type JsHtmlPluginTag } from "@rspack/binding";
import * as liteTapable from "@rspack/lite-tapable";
import { Compilation } from "../Compilation";
import type { Compiler } from "../Compiler";
export type TemplateRenderFunction = (params: Record<string, any>) => string | Promise<string>;
export type TemplateParamFunction = (params: Record<string, any>) => Record<string, any> | Promise<Record<string, any>>;
export type HtmlRspackPluginOptions = {
    /** The title to use for the generated HTML document. */
    title?: string;
    /**
     * The file to write the HTML to. You can specify a subdirectory here too (eg: pages/index.html).
     * @default 'index.html'
     */
    filename?: string;
    /** The template file path. */
    template?: string;
    /**
     * The template file content, priority is greater than template.
     * When using a function, pass in the template parameters and use the returned string as the template content.
     */
    templateContent?: string | TemplateRenderFunction;
    /**
     * Allows to overwrite the parameters used in the template.
     * When using a function, pass in the original template parameters and use the returned object as the final template parameters.
     */
    templateParameters?: Record<string, string> | boolean | TemplateParamFunction;
    /**
     * The script and link tag inject position in template. Use false to not inject.
     * If not specified, it will be automatically determined based on scriptLoading.
     */
    inject?: boolean | "head" | "body";
    /** The publicPath used for script and link tags. */
    publicPath?: string;
    /** Inject a [base](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base) tag */
    base?: string | {
        href?: string;
        target?: "_self" | "_blank" | "_parent" | "_top";
    };
    /**
     * Modern browsers support non blocking javascript loading ('defer') to improve the page startup performance.
     * Setting to 'module' adds attribute type='module'.
     * This also implies 'defer', since modules are automatically deferred.
     * @default 'defer'
     * */
    scriptLoading?: "blocking" | "defer" | "module" | "systemjs-module";
    /** Allows you to add only some chunks. */
    chunks?: string[];
    /** Allows you to skip some chunks. */
    excludeChunks?: string[];
    /** The sri hash algorithm, disabled by default. */
    sri?: "sha256" | "sha384" | "sha512";
    /**
     * Controls whether to minify the output.
     * @default false
     */
    minify?: boolean;
    /** Adds the given favicon path to the output HTML. */
    favicon?: string;
    /**
     * If true then append a unique rspack compilation hash to all included scripts and CSS files.
     * This is useful for cache busting
     * @default false
     * */
    meta?: Record<string, string | Record<string, string>>;
    /** Inject a base tag */
    hash?: boolean;
};
type ExtraPluginHookData = {
    plugin: {
        options: HtmlRspackPluginOptions;
    };
};
export type HtmlRspackPluginHooks = {
    beforeAssetTagGeneration: liteTapable.AsyncSeriesWaterfallHook<[
        JsBeforeAssetTagGenerationData & ExtraPluginHookData
    ]>;
    alterAssetTags: liteTapable.AsyncSeriesWaterfallHook<[JsAlterAssetTagsData]>;
    alterAssetTagGroups: liteTapable.AsyncSeriesWaterfallHook<[
        JsAlterAssetTagGroupsData & ExtraPluginHookData
    ]>;
    afterTemplateExecution: liteTapable.AsyncSeriesWaterfallHook<[
        JsAfterTemplateExecutionData & ExtraPluginHookData
    ]>;
    beforeEmit: liteTapable.AsyncSeriesWaterfallHook<[
        JsBeforeEmitData & ExtraPluginHookData
    ]>;
    afterEmit: liteTapable.AsyncSeriesWaterfallHook<[
        JsAfterEmitData & ExtraPluginHookData
    ]>;
};
declare const HtmlRspackPlugin: {
    new (c?: HtmlRspackPluginOptions | undefined): {
        name: BuiltinPluginName;
        _args: [c?: HtmlRspackPluginOptions | undefined];
        affectedHooks: "done" | "make" | "compile" | "emit" | "afterEmit" | "invalid" | "thisCompilation" | "afterDone" | "compilation" | "normalModuleFactory" | "contextModuleFactory" | "initialize" | "shouldEmit" | "infrastructureLog" | "beforeRun" | "run" | "assetEmitted" | "failed" | "shutdown" | "watchRun" | "watchClose" | "environment" | "afterEnvironment" | "afterPlugins" | "afterResolvers" | "beforeCompile" | "afterCompile" | "finishMake" | "entryOption" | undefined;
        raw(compiler: Compiler): import("@rspack/binding").BuiltinPlugin;
        apply(compiler: Compiler): void;
    };
} & {
    getCompilationHooks: (compilation: Compilation) => HtmlRspackPluginHooks;
    getCompilationOptions: (compilation: Compilation) => HtmlRspackPluginOptions | void;
    createHtmlTagObject: (tagName: string, attributes?: Record<string, string | boolean>, innerHTML?: string | undefined) => JsHtmlPluginTag;
};
export { HtmlRspackPlugin };
